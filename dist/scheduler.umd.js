/*! For license information please see scheduler.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Scheduler=t():e.Scheduler=t()}(self,(function(){return(()=>{"use strict";var e={792:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,'[class^="ssche__"], \r\n[class^="ssche__"] * {\r\n  outline: none;\r\n  box-sizing: content-box;\r\n}\r\n\r\n[class^="ssche__"]::-webkit-scrollbar, \r\n[class^="ssche__"] ::-webkit-scrollbar {\r\n  width: 6px;\r\n  height: 6px;\r\n}\r\n\r\n[class^="ssche__"]::-webkit-scrollbar-thumb,\r\n[class^="ssche__"] ::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  background-color: rgba(0,0,0,0.5);\r\n}\r\n\r\n.ssche__container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  min-width: 100%;\r\n  max-width: 100vw;\r\n  position: relative;\r\n  height: 100%;\r\n  max-height: 100vh;\r\n}\r\n\r\n.ssche__heading, .ssche__heading_controls {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-family: system-ui;\r\n}\r\n\r\n.ssche__heading {\r\n  position: sticky;\r\n  top: 0;\r\n  padding: 8px;\r\n  z-index: 2;\r\n}\r\n\r\n.ssche__heading h1 {\r\n  margin: 0;\r\n}\r\n\r\n.ssche__btn {\r\n  font-family: system-ui;\r\n  padding: 4px 16px;\r\n  text-transform: uppercase;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.ssche__heading_button {\r\n  background-color: white;\r\n  border: 1px solid #0288d1;\r\n  color: #0288d1;\r\n}\r\n\r\n.ssche__heading_button:hover {\r\n  background-color: #edf8ff;\r\n}\r\n\r\n.ssche__heading_button:active {\r\n  color: white;\r\n  background-color: #0288d1;\r\n}\r\n\r\n.ssche__heading_controls {\r\n  color: #0288d1;\r\n}\r\n\r\n.ssche__control {\r\n  min-width: 32px;\r\n  min-height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 8px;\r\n  cursor: pointer;\r\n  padding: 4px 12px;\r\n  user-select: none;\r\n  font-weight: bold;\r\n  border-radius: 2px;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.ssche__control:hover {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.ssche__control_side {\r\n  border-radius: 50%;\r\n  padding: 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.ssche__grid {\r\n  display: grid;\r\n  grid-template-rows: 32px;\r\n  grid-auto-rows: auto;\r\n  overflow: auto;\r\n}\r\n\r\n.ssche__grid_heading_cell {\r\n  display: flex;\r\n  position: sticky;\r\n  top: 0;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  padding-bottom: 12px;\r\n  font-weight: 600;\r\n  color: rgba(0, 0, 0, 0.55);\r\n  font-family: system-ui;\r\n  background-color: white;\r\n  box-shadow: 4px 4px 4px 0 #00000032;\r\n  z-index: 2;\r\n}\r\n\r\n.ssche__grid_heading_row {\r\n  display: contents;\r\n  \r\n}\r\n\r\n.ssche__cell {\r\n  display: flex;\r\n  background-color: white;\r\n  border: 1px solid #ebeced;\r\n  color: rgba(0, 0, 0, 0.55);\r\n  font-weight: 600;\r\n  font-family: system-ui;\r\n  overflow-x: visible;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n}\r\n\r\n.ssche__cell_label {\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 80px;\r\n}\r\n\r\n.ssche__overlay {\r\n  display: flex;\r\n  background-color: #000000bf;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 3;\r\n}\r\n\r\n.ssche__modal_body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 500px;\r\n  background-color: white;\r\n  border-radius: 2px;\r\n  box-shadow: 4px 4px 4px 0 #0000001a;\r\n  z-index: 4;\r\n}\r\n\r\n.ssche__modal_title {\r\n  margin: 0;\r\n  padding: 4px 12px;\r\n  font-family: system-ui;\r\n  background-color: #0288d1;\r\n  color: white;\r\n  font-weight: normal;\r\n}\r\n\r\n.ssche__modal_content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n}\r\n\r\n.ssche__modal_form_row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  margin-top: 24px;\r\n  font-family: system-ui;\r\n}\r\n\r\n.ssche__modal_input_label {\r\n  min-width: 100px;\r\n  text-align: right;\r\n  margin-right: 24px;\r\n  font-weight: 600;\r\n  color: rgba(0, 0, 0, 0.75);\r\n}\r\n\r\n.ssche__modal_input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  font-family: system-ui;\r\n}\r\n\r\n.ssche__modal_double_row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.ssche__modal_range_row {\r\n  display: flex;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.ssche__modal_range_row .ssche__range-input {\r\n  margin-right: 16px;\r\n}\r\n\r\n.ssche__modal_actions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  margin-top: 16px;\r\n}\r\n\r\n.ssche__modal_btn_cancel {\r\n  margin-right: 16px;\r\n  border: none;\r\n  background-color: transparent;\r\n  color: #0288d1;\r\n  border-radius: 2px;\r\n}\r\n\r\n.ssche__modal_btn_save {\r\n  border: none;\r\n  background-color: #0288d1;\r\n  color: white;\r\n  border-radius: 2px;\r\n}\r\n\r\n.ssche__modal_btn_delete {\r\n  border: none;\r\n  color: #ff584c;\r\n  border-radius: 2px;\r\n  background-color: white;\r\n}\r\n\r\n.ssche__modal_btn_cancel:hover {\r\n  background-color: #d9edf8; \r\n}\r\n\r\n.ssche__modal_btn_save:hover {\r\n  background-color: #0299EB;\r\n}\r\n\r\n.ssche__modal_btn_save:disabled {\r\n  background-color: #0079bb;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.ssche__modal_btn_delete:hover {\r\n  background-color: #ff584c4d;\r\n}\r\n\r\n.ssche__event {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 24px;\r\n  min-height: 24px;\r\n  background-color: #0288d1;\r\n  color: white;\r\n  border-radius: 5px;\r\n  z-index: 1;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  margin-bottom: 2px;\r\n  position: absolute;\r\n}\r\n\r\n.ssche__event-ghost {\r\n  opacity: 0;\r\n}',""]);const l=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var s=e[l],c=r.base?s[0]+r.base:s[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var h=n(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=o(p,r);r.byIndex=l,t.splice(l,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var s=r(e,o),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}n.d(r,{default:()=>bt});var c=s(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=s(/Edge/i),u=s(/firefox/i),h=s(/safari/i)&&!s(/chrome/i)&&!s(/android/i),p=s(/iP(ad|od|hone)/i),f=s(/chrome/i)&&s(/android/i),g={capture:!1,passive:!1};function m(e,t,n){e.addEventListener(t,n,!c&&g)}function v(e,t,n){e.removeEventListener(t,n,!c&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function y(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var w,E=/\s+/g;function x(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(E," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(E," ")}}function C(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function D(e,t){var n="";if("string"==typeof e)n=e;else do{var r=C(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function T(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function S(){return document.scrollingElement||document.documentElement}function I(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,l,s,d,u,h;if(e!==window&&e.parentNode&&e!==S()?(a=(i=e.getBoundingClientRect()).top,l=i.left,s=i.bottom,d=i.right,u=i.height,h=i.width):(a=0,l=0,s=window.innerHeight,d=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!c))do{if(o&&o.getBoundingClientRect&&("none"!==C(o,"transform")||n&&"static"!==C(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(C(o,"border-top-width")),l-=p.left+parseInt(C(o,"border-left-width")),s=a+i.height,d=l+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var f=D(o||e),g=f&&f.a,m=f&&f.d;f&&(s=(a/=m)+(u/=m),d=(l/=g)+(h/=g))}return{top:a,left:l,bottom:s,right:d,width:h,height:u}}}function M(e,t,n){for(var r=A(e,!0),o=I(e)[t];r;){var i=I(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===S())break;r=A(r,!1)}return!1}function O(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==$e.ghost&&(r||a[i]!==$e.dragged)&&y(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function P(e,t){for(var n=e.lastElementChild;n&&(n===$e.ghost||"none"===C(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function k(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===$e.clone||t&&!b(e,t)||n++;return n}function N(e){var t=0,n=0,r=S();if(e)do{var o=D(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function A(e,t){if(!e||!e.getBoundingClientRect)return S();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return S();if(r||t)return n;r=!0}}}while(n=n.parentNode);return S()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!w){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),w=setTimeout((function(){w=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function B(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var R="Sortable"+(new Date).getTime();var Y=[],X={initializeByDefault:!0},F={mount:function(e){for(var t in X)X.hasOwnProperty(t)&&!(t in e)&&(e[t]=X[t]);Y.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Y.push(e)},pluginEvent:function(e,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=e+"Global";Y.forEach((function(o){n[o.pluginName]&&(n[o.pluginName][i]&&n[o.pluginName][i](t({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](t({sortable:n},r)))}))},initializePlugins:function(e,t,n,r){for(var o in Y.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,a(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Y.forEach((function(r){"function"==typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Y.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};var H=["evt"],z=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.evt,i=l(r,H);F.pluginEvent.bind($e)(e,n,t({dragEl:G,parentEl:U,ghostEl:Z,rootEl:q,nextEl:J,lastDownEl:V,cloneEl:K,cloneHidden:Q,dragStarted:he,putSortable:ie,activeSortable:$e.active,originalEvent:o,oldIndex:ee,oldDraggableIndex:ne,newIndex:te,newDraggableIndex:re,hideGhostForTarget:ke,unhideGhostForTarget:Ne,cloneNowHidden:function(){Q=!0},cloneNowShown:function(){Q=!1},dispatchSortableEvent:function(e){W({sortable:n,name:e,originalEvent:o})}},i))};function W(e){!function(e){var n=e.sortable,r=e.rootEl,o=e.name,i=e.targetEl,a=e.cloneEl,l=e.toEl,s=e.fromEl,u=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(n=n||r&&r[R]){var b,_=n.options,y="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||c||d?(b=document.createEvent("Event")).initEvent(o,!0,!0):b=new CustomEvent(o,{bubbles:!0,cancelable:!0}),b.to=l||r,b.from=s||r,b.item=i||r,b.clone=a,b.oldIndex=u,b.newIndex=h,b.oldDraggableIndex=p,b.newDraggableIndex=f,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var w=t(t({},v),F.getEventProperties(o,n));for(var E in w)b[E]=w[E];r&&r.dispatchEvent(b),_[y]&&_[y].call(n,b)}}(t({putSortable:ie,cloneEl:K,targetEl:G,rootEl:q,oldIndex:ee,oldDraggableIndex:ne,newIndex:te,newDraggableIndex:re},e))}var G,U,Z,q,J,V,K,Q,ee,te,ne,re,oe,ie,ae,le,se,ce,de,ue,he,pe,fe,ge,me,ve=!1,be=!1,_e=[],ye=!1,we=!1,Ee=[],xe=!1,Ce=[],De="undefined"!=typeof document,Te=p,Se=d||c?"cssFloat":"float",Ie=De&&!f&&!p&&"draggable"in document.createElement("div"),Me=function(){if(De){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Oe=function(e,t){var n=C(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=O(e,0,t),i=O(e,1,t),a=o&&C(o),l=i&&C(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+I(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=r&&"none"===n[Se]||i&&"none"===n[Se]&&s+c>r)?"vertical":"horizontal"},Pe=function(e){function t(e,n){return function(r,o,i,a){var l=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var s=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},ke=function(){!Me&&Z&&C(Z,"display","none")},Ne=function(){!Me&&Z&&C(Z,"display","")};De&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1,!1}),!0);var Ae=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,_e.some((function(e){var t=e[R].options.emptyInsertThreshold;if(t&&!P(e)){var n=I(e),r=o>=n.left-t&&o<=n.right+t,l=i>=n.top-t&&i<=n.bottom+t;return r&&l?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[R]._onDragOver(n)}}var o,i,a},je=function(e){G&&G.parentNode[R]._isOutsideThisEl(e.target)};function $e(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=a({},n),e[R]=this;var r,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Oe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==$e.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var l in F.initializePlugins(this,e,i),i)!(l in n)&&(n[l]=i[l]);for(var s in Pe(n),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!n.forceFallback&&Ie,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),_e.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),a(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==C(e,"display")&&e!==$e.ghost){o.push({target:e,rect:I(e)});var n=t({},o[o.length-1].rect);if(e.thisAnimationDuration){var r=D(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(o,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(r),void("function"==typeof e&&e());var n=!1,i=0;o.forEach((function(e){var r=0,o=e.target,a=o.fromRect,l=I(o),s=o.prevFromRect,c=o.prevToRect,d=e.rect,u=D(o,!0);u&&(l.top-=u.f,l.left-=u.e),o.toRect=l,o.thisAnimationDuration&&j(s,l)&&!j(a,l)&&(d.top-l.top)/(d.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(r=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(d,s,c,t.options)),j(l,a)||(o.prevFromRect=a,o.prevToRect=l,r||(r=t.options.animation),t.animate(o,d,l,r)),r&&(n=!0,i=Math.max(i,r),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),r),o.thisAnimationDuration=r)})),clearTimeout(r),n?r=setTimeout((function(){"function"==typeof e&&e()}),i):"function"==typeof e&&e(),o=[]},animate:function(e,t,n,r){if(r){C(e,"transition",""),C(e,"transform","");var o=D(this.el),i=o&&o.a,a=o&&o.d,l=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,C(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),C(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}))}function Le(e,t,n,r,o,i,a,l){var s,u,h=e[R],p=h.options.onMove;return!window.CustomEvent||c||d?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=o||t,s.relatedRect=i||I(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),p&&(u=p.call(h,s,a)),u}function Be(e){e.draggable=!1}function Re(){xe=!1}function Ye(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Xe(e){return setTimeout(e,0)}function Fe(e){return clearTimeout(e)}$e.prototype={constructor:$e,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(pe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(function(e){Ce.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Ce.push(r)}}(n),!G&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!h||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=y(l,r.draggable,n,!1))&&l.animated||V===l)){if(ee=k(l),ne=k(l,r.draggable),"function"==typeof c){if(c.call(this,e,l,this))return W({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),z("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=y(s,r.trim(),n,!1))return W({sortable:t,rootEl:r,name:"filter",targetEl:l,fromEl:n,toEl:n}),z("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!y(s,r.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,l=i.ownerDocument;if(n&&!G&&n.parentNode===i){var s=I(n);if(q=i,U=(G=n).parentNode,J=G.nextSibling,V=n,oe=a.group,$e.dragged=G,ae={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},de=ae.clientX-s.left,ue=ae.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",r=function(){z("delayEnded",o,{evt:e}),$e.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!u&&o.nativeDraggable&&(G.draggable=!0),o._triggerDragStart(e,t),W({sortable:o,name:"choose",originalEvent:e}),x(G,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){T(G,e.trim(),Be)})),m(l,"dragover",Ae),m(l,"mousemove",Ae),m(l,"touchmove",Ae),m(l,"mouseup",o._onDrop),m(l,"touchend",o._onDrop),m(l,"touchcancel",o._onDrop),u&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),z("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))r();else{if($e.eventCanceled)return void this._onDrop();m(l,"mouseup",o._disableDelayedDrag),m(l,"touchend",o._disableDelayedDrag),m(l,"touchcancel",o._disableDelayedDrag),m(l,"mousemove",o._delayedDragTouchMoveHandler),m(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&m(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&Be(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(G,"dragend",this),m(q,"dragstart",this._onDragStart));try{document.selection?Xe((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,q&&G){z("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",je);var n=this.options;!e&&x(G,n.dragClass,!1),x(G,n.ghostClass,!0),$e.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,ke();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(G.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]&&t[R]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(ae){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Z&&D(Z,!0),a=Z&&i&&i.a,l=Z&&i&&i.d,s=Te&&me&&N(me),c=(o.clientX-ae.clientX+r.x)/(a||1)+(s?s[0]-Ee[0]:0)/(a||1),d=(o.clientY-ae.clientY+r.y)/(l||1)+(s?s[1]-Ee[1]:0)/(l||1);if(!$e.active&&!ve){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Z){i?(i.e+=c-(se||0),i.f+=d-(ce||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");C(Z,"webkitTransform",u),C(Z,"mozTransform",u),C(Z,"msTransform",u),C(Z,"transform",u),se=c,ce=d,le=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:q,t=I(G,!0,Te,!0,e),n=this.options;if(Te){for(me=e;"static"===C(me,"position")&&"none"===C(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=S()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=S(),Ee=N(me)}x(Z=G.cloneNode(!0),n.ghostClass,!1),x(Z,n.fallbackClass,!0),x(Z,n.dragClass,!0),C(Z,"transition",""),C(Z,"transform",""),C(Z,"box-sizing","border-box"),C(Z,"margin",0),C(Z,"top",t.top),C(Z,"left",t.left),C(Z,"width",t.width),C(Z,"height",t.height),C(Z,"opacity","0.8"),C(Z,"position",Te?"absolute":"fixed"),C(Z,"zIndex","100000"),C(Z,"pointerEvents","none"),$e.ghost=Z,e.appendChild(Z),C(Z,"transform-origin",de/parseInt(Z.style.width)*100+"% "+ue/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;z("dragStart",this,{evt:e}),$e.eventCanceled?this._onDrop():(z("setupClone",this),$e.eventCanceled||((K=B(G)).draggable=!1,K.style["will-change"]="",this._hideClone(),x(K,this.options.chosenClass,!1),$e.clone=K),n.cloneId=Xe((function(){z("clone",n),$e.eventCanceled||(n.options.removeCloneOnHide||q.insertBefore(K,G),n._hideClone(),W({sortable:n,name:"clone"}))})),!t&&x(G,o.dragClass,!0),t?(be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,G)),m(document,"drop",n),C(G,"transform","translateZ(0)")),ve=!0,n._dragStartId=Xe(n._dragStarted.bind(n,t,e)),m(document,"selectstart",n),he=!0,h&&C(document.body,"user-select","none"))},_onDragOver:function(e){var n,r,o,i,a=this.el,l=e.target,s=this.options,c=s.group,d=$e.active,u=oe===c,h=s.sort,p=ie||d,f=this,g=!1;if(!xe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=y(l,s.draggable,a,!0),Y("dragOver"),$e.eventCanceled)return g;if(G.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return F(!1);if(be=!1,d&&!s.disabled&&(u?h||(o=U!==q):ie===this||(this.lastPutMode=oe.checkPull(this,d,G,e))&&c.checkPut(this,d,G,e))){if(i="vertical"===this._getDirection(e,l),n=I(G),Y("dragOverValid"),$e.eventCanceled)return g;if(o)return U=q,X(),this._hideClone(),Y("revert"),$e.eventCanceled||(J?q.insertBefore(G,J):q.appendChild(G)),F(!0);var m=P(a,s.draggable);if(!m||function(e,t,n){var r=I(P(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,i,this)&&!m.animated){if(m===G)return F(!1);if(m&&a===e.target&&(l=m),l&&(r=I(l)),!1!==Le(q,a,G,n,l,r,e,!!l))return X(),a.appendChild(G),U=a,H(),F(!0)}else if(m&&function(e,t,n){var r=I(O(n.el,0,n.options,!0));return t?e.clientX<r.left-10||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-10||e.clientY<r.bottom&&e.clientX<r.left}(e,i,this)){var v=O(a,0,s,!0);if(v===G)return F(!1);if(r=I(l=v),!1!==Le(q,a,G,n,l,r,e,!1))return X(),a.insertBefore(G,v),U=a,H(),F(!0)}else if(l.parentNode===a){r=I(l);var b,_,w,E=G.parentNode!==a,D=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return r===a||o===l||r+i/2===a+s/2}(G.animated&&G.toRect||n,l.animated&&l.toRect||r,i),T=i?"top":"left",S=M(l,"top","top")||M(G,"top","top"),N=S?S.scrollTop:void 0;if(pe!==l&&(_=r[T],ye=!1,we=!D&&s.invertSwap||E),b=function(e,t,n,r,o,i,a,l){var s=r?e.clientY:e.clientX,c=r?n.height:n.width,d=r?n.top:n.left,u=r?n.bottom:n.right,h=!1;if(!a)if(l&&ge<c*o){if(!ye&&(1===fe?s>d+c*i/2:s<u-c*i/2)&&(ye=!0),ye)h=!0;else if(1===fe?s<d+ge:s>u-ge)return-fe}else if(s>d+c*(1-o)/2&&s<u-c*(1-o)/2)return function(e){return k(G)<k(e)?1:-1}(t);return(h=h||a)&&(s<d+c*i/2||s>u-c*i/2)?s>d+c/2?1:-1:0}(e,l,r,i,D?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,we,pe===l),0!==b){var A=k(G);do{A-=b,w=U.children[A]}while(w&&("none"===C(w,"display")||w===Z))}if(0===b||w===l)return F(!1);pe=l,fe=b;var j=l.nextElementSibling,$=!1,B=Le(q,a,G,n,l,r,e,$=1===b);if(!1!==B)return 1!==B&&-1!==B||($=1===B),xe=!0,setTimeout(Re,30),X(),$&&!j?a.appendChild(G):l.parentNode.insertBefore(G,$?j:l),S&&L(S,0,N-S.scrollTop),U=G.parentNode,void 0===_||we||(ge=Math.abs(_-I(l)[T])),H(),F(!0)}if(a.contains(G))return F(!1)}return!1}function Y(s,c){z(s,f,t({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:o,dragRect:n,targetRect:r,canSort:h,fromSortable:p,target:l,completed:F,onMove:function(t,r){return Le(q,a,G,n,t,I(t),e,r)},changed:H},c))}function X(){Y("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function F(t){return Y("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(f),f!==p&&(x(G,ie?ie.options.ghostClass:d.options.ghostClass,!1),x(G,s.ghostClass,!0)),ie!==f&&f!==$e.active?ie=f:f===$e.active&&ie&&(ie=null),p===f&&(f._ignoreWhileAnimating=l),f.animateAll((function(){Y("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(l===G&&!G.animated||l===a&&!l.animated)&&(pe=null),s.dragoverBubble||e.rootEl||l===document||(G.parentNode[R]._isOutsideThisEl(e.target),!t&&Ae(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function H(){te=k(G),re=k(G,s.draggable),W({sortable:f,name:"change",toEl:a,newIndex:te,newDraggableIndex:re,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Ae),v(document,"mousemove",Ae),v(document,"touchmove",Ae)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;te=k(G),re=k(G,n.draggable),z("drop",this,{evt:e}),U=G&&G.parentNode,te=k(G),re=k(G,n.draggable),$e.eventCanceled||(ve=!1,we=!1,ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fe(this.cloneId),Fe(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&C(document.body,"user-select",""),C(G,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(q===U||ie&&"clone"!==ie.lastPutMode)&&K&&K.parentNode&&K.parentNode.removeChild(K),G&&(this.nativeDraggable&&v(G,"dragend",this),Be(G),G.style["will-change"]="",he&&!ve&&x(G,ie?ie.options.ghostClass:this.options.ghostClass,!1),x(G,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:e}),q!==U?(te>=0&&(W({rootEl:U,name:"add",toEl:U,fromEl:q,originalEvent:e}),W({sortable:this,name:"remove",toEl:U,originalEvent:e}),W({rootEl:U,name:"sort",toEl:U,fromEl:q,originalEvent:e}),W({sortable:this,name:"sort",toEl:U,originalEvent:e})),ie&&ie.save()):te!==ee&&te>=0&&(W({sortable:this,name:"update",toEl:U,originalEvent:e}),W({sortable:this,name:"sort",toEl:U,originalEvent:e})),$e.active&&(null!=te&&-1!==te||(te=ee,re=ne),W({sortable:this,name:"end",toEl:U,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){z("nulling",this),q=G=U=Z=J=K=V=Q=ae=le=he=te=re=ee=ne=pe=fe=ie=oe=$e.dragged=$e.ghost=$e.clone=$e.active=null,Ce.forEach((function(e){e.checked=!0})),Ce.length=se=ce=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)y(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Ye(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];y(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return y(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=F.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Pe(n)},destroy:function(){z("destroy",this);var e=this.el;e[R]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Q){if(z("hideClone",this),$e.eventCanceled)return;C(K,"display","none"),this.options.removeCloneOnHide&&K.parentNode&&K.parentNode.removeChild(K),Q=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Q){if(z("showClone",this),$e.eventCanceled)return;G.parentNode!=q||this.options.group.revertClone?J?q.insertBefore(K,J):q.appendChild(K):q.insertBefore(K,G),this.options.group.revertClone&&this.animate(G,K),C(K,"display",""),Q=!1}}else this._hideClone()}},De&&m(document,"touchmove",(function(e){($e.active||ve)&&e.cancelable&&e.preventDefault()})),$e.utils={on:m,off:v,css:C,find:T,is:function(e,t){return!!y(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:$,closest:y,toggleClass:x,clone:B,index:k,nextTick:Xe,cancelNextTick:Fe,detectDirection:Oe,getChild:O},$e.get=function(e){return e[R]},$e.mount=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0].constructor===Array&&(n=n[0]),n.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&($e.utils=t(t({},$e.utils),e.utils)),F.mount(e)}))},$e.create=function(e,t){return new $e(e,t)},$e.version="1.14.0";var He,ze,We,Ge,Ue,Ze,qe=[],Je=!1;function Ve(){qe.forEach((function(e){clearInterval(e.pid)})),qe=[]}function Ke(){clearInterval(Ze)}var Qe=$((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=S(),d=!1;ze!==n&&(ze=n,Ve(),He=t.scroll,o=t.scrollFn,!0===He&&(He=A(n,!0)));var u=0,h=He;do{var p=h,f=I(p),g=f.top,m=f.bottom,v=f.left,b=f.right,_=f.width,y=f.height,w=void 0,E=void 0,x=p.scrollWidth,D=p.scrollHeight,T=C(p),M=p.scrollLeft,O=p.scrollTop;p===c?(w=_<x&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),E=y<D&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(w=_<x&&("auto"===T.overflowX||"scroll"===T.overflowX),E=y<D&&("auto"===T.overflowY||"scroll"===T.overflowY));var P=w&&(Math.abs(b-i)<=l&&M+_<x)-(Math.abs(v-i)<=l&&!!M),k=E&&(Math.abs(m-a)<=l&&O+y<D)-(Math.abs(g-a)<=l&&!!O);if(!qe[u])for(var N=0;N<=u;N++)qe[N]||(qe[N]={});qe[u].vx==P&&qe[u].vy==k&&qe[u].el===p||(qe[u].el=p,qe[u].vx=P,qe[u].vy=k,clearInterval(qe[u].pid),0==P&&0==k||(d=!0,qe[u].pid=setInterval(function(){r&&0===this.layer&&$e.active._onTouchMove(Ue);var t=qe[this.layer].vy?qe[this.layer].vy*s:0,n=qe[this.layer].vx?qe[this.layer].vx*s:0;"function"==typeof o&&"continue"!==o.call($e.dragged.parentNode[R],n,t,e,Ue,qe[this.layer].el)||L(qe[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));Je=d}}),30),et=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function tt(){}function nt(){}tt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=O(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:et},a(tt,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:et},a(nt,{pluginName:"removeOnSpill"}),$e.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Ke(),Ve(),clearTimeout(w),w=void 0},nulling:function(){Ue=ze=He=Je=Ze=We=Ge=null,qe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(Ue=e,t||this.options.forceAutoScrollFallback||d||c||h){Qe(e,this.options,i,t);var a=A(i,!0);!Je||Ze&&r===We&&o===Ge||(Ze&&Ke(),Ze=setInterval((function(){var i=A(document.elementFromPoint(r,o),!0);i!==a&&(a=i,Ve()),Qe(e,n.options,i,t)}),10),We=r,Ge=o)}else{if(!this.options.bubbleScroll||A(i,!0)===S())return void Ve();Qe(e,this.options,A(i,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),$e.mount(nt,tt);const rt=$e;var ot=n(379),it=n.n(ot),at=n(795),lt=n.n(at),st=n(569),ct=n.n(st),dt=n(565),ut=n.n(dt),ht=n(216),pt=n.n(ht),ft=n(589),gt=n.n(ft),mt=n(792),vt={};vt.styleTagTransform=gt(),vt.setAttributes=ut(),vt.insert=ct().bind(null,"head"),vt.domAPI=lt(),vt.insertStyleElement=pt(),it()(mt.Z,vt),mt.Z&&mt.Z.locals&&mt.Z.locals;const bt=class{constructor(e){Object.defineProperty(this,"onlyRead",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cellWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"createCallback",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"deleteCallback",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"editCallback",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rows",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"totalCols",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"totalCells",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lang",{enumerable:!0,configurable:!0,writable:!0,value:"en"}),Object.defineProperty(this,"currentMonth",{enumerable:!0,configurable:!0,writable:!0,value:(new Date).getMonth()}),Object.defineProperty(this,"currentYear",{enumerable:!0,configurable:!0,writable:!0,value:(new Date).getFullYear()}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"langs",{enumerable:!0,configurable:!0,writable:!0,value:{en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],actions:{create:"Create",save:"Save",cancel:"Cancel",present:"Present",delete:"Delete"},labels:{description:"Description",section:"Section",period:"Time period"}},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],actions:{create:"Crear",save:"Guardar",cancel:"Cancelar",present:"Presente",delete:"Borrar"},labels:{description:"Descripción",section:"Sección",period:"Periodo de tiempo"}}}}),Object.defineProperty(this,"getTextLang",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.langs[this.lang][e]}),Object.defineProperty(this,"closeModalEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{"Escape"===e.key&&this.closeModal()}}),Object.defineProperty(this,"appendSelectOptions",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const n=document.createElement("option");n.innerText="-",n.value="",t.appendChild(n),e.forEach((e=>{const n=document.createElement("option");n.innerText=e.label,n.value=e.id,t.appendChild(n)}))}}),Object.defineProperty(this,"openModal",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=document.getElementsByTagName("body")[0],n=document.createElement("div");n.id=`${this.rootId}-modal`,n.classList.add("ssche__overlay"),n.innerHTML=`\n      <div class="ssche__modal_body">\n        <h2 class="ssche__modal_title">\n          ${this.getTextLang("actions").create}\n        </h2>\n        <div class="ssche__modal_content">\n          <div class="ssche__modal_form_row">\n            <label for="${this.rootId}-description" class="ssche__modal_input_label">\n              ${this.getTextLang("labels").description}\n            </label>\n            <textarea \n              rows="6"\n              id="${this.rootId}-description" \n              class="ssche__modal_input"\n              ></textarea>\n          </div>\n          <div class="ssche__modal_form_row">\n            <label for="${this.rootId}-section" class="ssche__modal_input_label">\n              ${this.getTextLang("labels").section}\n            </label>\n            <select \n              id="${this.rootId}-section" \n              class="ssche__modal_input"\n            ></select>\n          </div>\n          <div class="ssche__modal_form_row">\n            <label class="ssche__modal_input_label">\n              ${this.getTextLang("labels").period}\n            </label>\n            <div class="ssche__modal_double_row">\n              <div class="ssche__modal_range_row">\n                <input id="${this.rootId}-start-time" type="time" class="ssche__range-input" />\n                <input id="${this.rootId}-start-date" type="date" class="ssche" />\n              </div>\n              <div class="ssche__modal_range_row">\n                <input id="${this.rootId}-end-time" type="time" class="ssche__range-input"/>\n                <input id="${this.rootId}-end-date" type="date" class="ssche" />\n              </div>\n            </div>\n          </div>\n          <div class="ssche__modal_actions">\n          ${e&&!this.onlyRead?`\n            <button class="ssche__btn ssche__modal_btn_delete" id="${this.rootId}-modal-delete">\n              ${this.getTextLang("actions").delete}\n            </button>`:""}\n            <button class="ssche__btn ssche__modal_btn_cancel" id="${this.rootId}-modal-cancel">\n              ${this.getTextLang("actions").cancel}\n            </button>\n            ${this.onlyRead?"":`\n            <button class="ssche__btn ssche__modal_btn_save" id="${this.rootId}-modal-save">\n              ${this.getTextLang("actions").save}\n            </button>`}\n          </div>\n        </div>\n      </div>\n    `,t.appendChild(n),this.appendSelectOptions(this.rows,document.getElementById(`${this.rootId}-section`)),n.addEventListener("click",(e=>{e.target.id===`${this.rootId}-modal`&&this.closeModal()}));const r=document.getElementById(`${this.rootId}-modal-cancel`);r.addEventListener("click",this.closeModal,!0),this.onlyRead&&(r.style.marginRight="0px"),document.addEventListener("keydown",this.closeModalEvent,!0);const o=document.getElementById(`${this.rootId}-description`),i=document.getElementById(`${this.rootId}-section`),a=document.getElementById(`${this.rootId}-start-date`),l=document.getElementById(`${this.rootId}-end-date`),s=document.getElementById(`${this.rootId}-start-time`),c=document.getElementById(`${this.rootId}-end-time`),d=document.getElementById(`${this.rootId}-modal-save`);this.onlyRead?(o.disabled=!0,i.disabled=!0,s.disabled=!0,a.disabled=!0,c.disabled=!0,l.disabled=!0):(a.addEventListener("change",(e=>{l.min=e.target.value,d.disabled=""===a.value||""===l.value||""===i.value||""===o.value})),l.addEventListener("change",(e=>{a.max=e.target.value,d.disabled=""===a.value||""===l.value||""===i.value||""===o.value})),i.addEventListener("change",(()=>{d.disabled=""===a.value||""===l.value||""===i.value||""===o.value})),o.addEventListener("change",(()=>{d.disabled=""===a.value||""===l.value||""===i.value||""===o.value})),s.addEventListener("change",(e=>{const t=e.target.value;c.min=t;const n=new Date(0,0,0,+t.split(":")[0],+t.split(":")[1]);new Date(0,0,0,+c.value.split(":")[0],+c.value.split(":")[1]).getTime()<n.getTime()&&(c.value="")})),d.disabled=""===a.value||""===l.value||""===i.value||""===o.value,d.addEventListener("click",(()=>{const t={description:o.value,section:i.value,startTime:s.value,startDate:a.value,endTime:c.value,endDate:l.value};if(e){if(t.id=e.id,!this.editCallback)throw new Error("Callback 'onEventEdited' isn't defined.");this.editCallback(t)}else{if(!this.createCallback)throw new Error("Callback 'onEventCreated' isn't defined.");this.createCallback(t)}this.closeModal()}))),e&&(o.value=e.description,i.value=e.section,a.value=e.startDate,l.value=e.endDate,s.value=e.startTime,c.value=e.endTime,!this.onlyRead)&&(document.getElementById(`${this.rootId}-modal-delete`).addEventListener("click",(()=>{if(!this.deleteCallback)throw new Error("Callback 'onEventDeleted' isn't defined.");this.deleteCallback(e),this.closeModal()})),d.disabled=!1)}}),Object.defineProperty(this,"closeModal",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=document.getElementsByTagName("body")[0],t=document.getElementById(`${this.rootId}-modal`);t&&e.removeChild(t),document.removeEventListener("keydown",this.closeModalEvent,!0)}}),Object.defineProperty(this,"isDrawableNow",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(e.year1>this.currentYear||e.year2<this.currentYear)return!1;const t=e.year1===e.year2;if(t&&(this.currentMonth<e.month1||e.month2<this.currentMonth))return!1;if(!t){if(this.currentYear===e.year1&&this.currentMonth<e.month1)return!1;if(this.currentYear===e.year2&&this.currentMonth>e.month2)return!1}return!0}}),Object.defineProperty(this,"updateCalendar",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.title&&(this.title.innerText=`${this.getTextLang("months")[this.currentMonth]} ${this.currentYear}`);const e=document.getElementById(`${this.rootId}-grid`);if(!this.rootId)throw new Error("Root HTML Element doesn't exists.");{const t=document.getElementById(this.rootId);if(t&&e){e&&t.removeChild(e);const n=new Date(this.currentYear,this.currentMonth+1,0);this.totalCols=n.getDate()+1,this.totalCells=this.rows.length*this.totalCols;const r=document.createElement("div");r.classList.add("ssche__grid"),r.id=`${this.rootId}-grid`,t.append(r),this.createGrid(),this.events.filter((e=>this.isDrawableNow(e))).forEach((e=>this.drawEvent(e)))}}}}),Object.defineProperty(this,"createHeading",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=document.getElementById(`${this.rootId}-heading`);e&&(e.innerHTML=`\n        ${this.onlyRead?"<div></div>":`\n        <button id="${this.rootId}-btn-create" class="ssche__btn ssche__heading_button">\n          ${this.langs[this.lang].actions.create}\n        </button>`}\n        <h1 id="${this.rootId}-title">${this.getTextLang("months")[this.currentMonth]} ${this.currentYear}</h1>\n        <div class="ssche__heading_controls">\n          <div id="${this.rootId}-left-control" class="ssche__control ssche__control_side">\n            <\n          </div>\n          <div id="${this.rootId}-present-control" class="ssche__control">\n            ${this.getTextLang("actions").present}\n          </div>\n          <div id="${this.rootId}-right-control" class="ssche__control ssche__control_side">\n            >\n          </div>\n        </div>\n      `),this.onlyRead||document.getElementById(`${this.rootId}-btn-create`).addEventListener("click",(()=>this.openModal())),this.title=document.getElementById(`${this.rootId}-title`),document.getElementById(`${this.rootId}-left-control`).addEventListener("click",(()=>{this.currentMonth-=1,this.currentMonth<0&&(this.currentMonth=11,this.currentYear-=1),this.updateCalendar()})),document.getElementById(`${this.rootId}-right-control`).addEventListener("click",(()=>{this.currentMonth+=1,this.currentMonth>11&&(this.currentMonth=0,this.currentYear+=1),this.updateCalendar()})),document.getElementById(`${this.rootId}-present-control`).addEventListener("click",(()=>{const e=new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.updateCalendar()}))}}),Object.defineProperty(this,"createCell",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=document.createElement("div");return t.classList.add("ssche__cell"),e&&(t.appendChild(document.createTextNode(e)),t.classList.add("ssche__cell_label")),new rt(t,{group:"cell",delay:100,ghostClass:"ssche__event-ghost",swapThreshold:1,onStart:e=>{console.log("Start"),console.log(e)},onEnd:e=>{console.log("End"),console.log(e)},onAdd:e=>{console.log("Add"),console.log(e)},onRemove:e=>{console.log("Remove"),console.log(e)},onChange:e=>{console.log("Change"),console.log(e)}}),t}}),Object.defineProperty(this,"createGrid",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=document.getElementById(`${this.rootId}-grid`);e.style.gridTemplateColumns=`150px repeat(${this.totalCols-1}, minmax(32px, 1fr))`;for(let t=0;t<this.totalCols;t++){let n=document.createElement("div");n.classList.add("ssche__grid_heading_cell"),t>0&&(n.innerText=`${t}`),e.appendChild(n)}for(let t=0;t<this.totalCells;t++)e.appendChild(this.createCell(t%this.totalCols==0?this.rows[Math.floor(t/this.totalCols)].label:null));const t=e.childNodes[this.totalCols+1];this.cellWidth=t.getClientRects()[0].width,window.onresize=()=>{this.cellWidth=t.getClientRects()[0].width;const n=e.getElementsByClassName("ssche__event");for(let e=0;e<n.length;e++){const t=n[e].dataset.start||"0",r=+(n[e].dataset.end||"0")-+t;n[e].style.width=this.cellWidth*(r>0?r:1)+"px"}}}}),Object.defineProperty(this,"computeEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.rows.map((e=>e.id)).indexOf(e.section)+1,n=e.startDate.split("-"),r=e.endDate.split("-"),o=new Date(+n[0],+n[1]-1,+n[2]),i=new Date(+r[0],+r[1]-1,+r[2]);return{id:e.id||"",event:e,section:t,day1:o.getDate(),day2:i.getDate(),month1:o.getMonth(),month2:i.getMonth(),year1:o.getFullYear(),year2:i.getFullYear()}}}),Object.defineProperty(this,"calculatePos",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.events.filter((t=>t.section===e.section));if(0===t.length)return 0;const n=t.reduce(((t,n)=>{if(n.id===e.id)return t;let r=!1,o=!1,i=!1,a=this.currentMonth===n.month1?n.day1:1,l=this.currentMonth===n.month2?n.day2:this.totalCols,s=this.currentMonth===e.month1?e.day1:1,c=this.currentMonth===e.month2?e.day2:this.totalCols;return n.month1!==n.month2||e.month1!==e.month2?(r=c>a&&s<a,o=s<l&&c>l,i=s>=a&&c<=l):(r=e.day2>n.day1&&e.day1<n.day1,o=e.day1<n.day2&&e.day2>n.day2,i=e.day1>=n.day1&&e.day2<=n.day2),r||o||i?[...t,n]:t}),[]).reduce(((e,t)=>{const n=document.querySelector(`div.ssche__event[data-id="${t.id}"]`);if(null===n)return e;const r=n.style.top;return[...e,+r.substring(0,r.length-2)]}),[]).sort(((e,t)=>e-t));if(0===n.length)return 0;let r=0;for(let e=1;e<n.length;e++)if(r=n[e],n[e]>n[e-1]+26){r=n[e-1]+26;break}return r===n[n.length-1]&&(r+=26),r}}),Object.defineProperty(this,"drawEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=document.getElementById(`${this.rootId}-grid`);if(!t)throw new Error("Grid doesn't exists.");{const n=document.createElement("div");n.classList.add("ssche__event"),n.dataset.id=`${e.event.id}`,n.innerText=e.event.description,n.draggable=!0;let r=e.month1!==this.currentMonth?1:e.day1,o=e.month2!==this.currentMonth?this.totalCols:e.day2,i=this.totalCols*e.section+r,a=0;n.dataset.start=`${r}`,n.dataset.end=`${o}`,a=o-r,n.style.width=this.cellWidth*a-1+"px",n.addEventListener("click",(()=>this.openModal(e.event))),n.style.top=`${this.calculatePos(e)}px`;const l=t.childNodes[i];this.fixHeightFromChildren(l),l.appendChild(n)}}}),Object.defineProperty(this,"fixHeightFromChildren",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.childNodes;let n=0;t.forEach((e=>{const t=e.style.top||"0px",r=+t.substring(0,t.length-2);n<r&&(n=r)})),e.style.minHeight=`${n+26}px`}}),Object.defineProperty(this,"onEventCreated",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.createCallback=e}}),Object.defineProperty(this,"onEventDeleted",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.deleteCallback=e}}),Object.defineProperty(this,"onEventEdited",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.editCallback=e}}),Object.defineProperty(this,"addEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.computeEvent(e);this.isDrawableNow(t)&&this.drawEvent(t),this.events.push(t)}}),Object.defineProperty(this,"removeEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(null==e)throw new Error(`Id not valid: ${e}`);{const t=document.querySelector(`div.ssche__event[data-id="${e}"]`);if(null===t)throw new Error(`No events with id: ${e}`);{const n=t.parentElement;this.currentYear,this.currentMonth,this.events=this.events.filter((t=>t.id!==e)),n.removeChild(t),this.fixHeightFromChildren(n)}}}}),this.rootId=e.root,this.onlyRead=e.onlyRead||!1;const t=document.getElementById(this.rootId);if(this.rows=e.rows,e.lang&&(this.lang=e.lang),!t)throw new Error("Root HTML Element doesn't exists.");t.classList.add("ssche__container");const n=new Date;n.setMonth(n.getMonth()+1),n.setDate(0),this.totalCols=n.getDate()+1,this.totalCells=this.rows.length*this.totalCols,t.innerHTML=`\n      <div id="${this.rootId}-heading" class="ssche__heading"></div>\n      <div id="${this.rootId}-grid" class="ssche__grid"></div>\n    `,this.createHeading(),this.createGrid()}}})(),r.default})()}));